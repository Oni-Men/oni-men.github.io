var app=function(t){"use strict";function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(s)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function d(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}let b;function v(t){b=t}const x=[],y=[],w=[],k=[],L=Promise.resolve();let _=!1;function E(t){w.push(t)}const T=new Set;let O=0;function P(){const t=b;do{for(;O<x.length;){const t=x[O];O++,v(t),M(t.$$)}for(v(null),x.length=0,O=0;y.length;)y.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];T.has(e)||(T.add(e),e())}w.length=0}while(x.length);for(;k.length;)k.pop()();_=!1,T.clear(),v(t)}function M(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const j=new Set;let A;function H(){A={r:0,c:[],p:A}}function U(){A.r||r(A.c),A=A.p}function C(t,e){t&&t.i&&(j.delete(t),t.i(e))}function N(t,e,n,s){if(t&&t.o){if(j.has(t))return;j.add(t),A.c.push((()=>{j.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function S(t,e,n,o){const{fragment:l,on_mount:c,on_destroy:u,after_update:a}=t.$$;l&&l.m(e,n),o||E((()=>{const e=c.map(s).filter(i);u?u.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(E)}function F(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(x.push(t),_||(_=!0,L.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(t,n,s,i,l,c,u,f=[-1]){const h=b;v(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||h.$$.root};u&&u(p.root);let d=!1;if(p.ctx=s?s(t,n.props||{},((e,n,...s)=>{const o=s.length?s[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),d&&D(t,e)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();n.intro&&C(t.$$.fragment),S(t,n.target,n.anchor,n.customElement),P()}v(h)}class J{$destroy(){F(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function W(t){let n,s,o,r,i,l,p;return{c(){n=f("p"),s=f("span"),o=h(t[0]),r=f("span"),i=h(t[1]),l=f("span"),l.textContent="$",p=f("span"),m(s,"class","chameleon-m svelte-1imx4hu"),m(r,"class","blue-m svelte-1imx4hu"),m(l,"class","plum-l svelte-1imx4hu"),m(p,"class","svelte-1imx4hu"),m(n,"class","svelte-1imx4hu")},m(e,a){u(e,n,a),c(n,s),c(s,o),c(n,r),c(r,i),c(n,l),c(n,p),p.innerHTML=t[2]},p(t,[e]){1&e&&g(o,t[0]),2&e&&g(i,t[1]),4&e&&(p.innerHTML=t[2])},i:e,o:e,d(t){t&&a(n)}}}function G(t,e,n){let{username:s=""}=e,{path:o=""}=e,{text:r=""}=e;return t.$$set=t=>{"username"in t&&n(0,s=t.username),"path"in t&&n(1,o=t.path),"text"in t&&n(2,r=t.text)},[s,o,r]}class I extends J{constructor(t){super(),R(this,t,G,W,l,{username:0,path:1,text:2})}}function V(t,e,n){const s=t.slice();return s[13]=e[n],s}function q(t){let e,s;const o=[t[13]];let r={};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new I({props:r}),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,n){S(e,t,n),s=!0},p(t,n){const s=2&n?function(t,e){const n={},s={},o={$$scope:1};let r=t.length;for(;r--;){const i=t[r],l=e[r];if(l){for(const t in i)t in l||(s[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[r]=l}else for(const t in i)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(o,[(r=t[13],"object"==typeof r&&null!==r?r:{})]):{};var r;e.$set(s)},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){N(e.$$.fragment,t),s=!1},d(t){F(e,t)}}}function z(t){let n,s=t[13]+"";return{c(){n=f("p")},m(t,e){u(t,n,e),n.innerHTML=s},p(t,e){2&e&&s!==(s=t[13]+"")&&(n.innerHTML=s)},i:e,o:e,d(t){t&&a(n)}}}function B(t){let e,n,s,o;const r=[z,q],i=[];function l(t,e){return"string"==typeof t[13]?0:1}return e=l(t),n=i[e]=r[e](t),{c(){n.c(),s=h("")},m(t,n){i[e].m(t,n),u(t,s,n),o=!0},p(t,o){let c=e;e=l(t),e===c?i[e].p(t,o):(H(),N(i[c],1,1,(()=>{i[c]=null})),U(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),C(n,1),n.m(s.parentNode,s))},i(t){o||(C(n),o=!0)},o(t){N(n),o=!1},d(t){i[e].d(t),t&&a(s)}}}function X(t){let e,n,s,o,i,l,b,v,x,y,w,k,L,_,E=t[0].username+"",T=t[0].path+"",O=t[1],P=[];for(let e=0;e<O.length;e+=1)P[e]=B(V(t,O,e));const M=t=>N(P[t],1,1,(()=>{P[t]=null}));return{c(){e=f("main");for(let t=0;t<P.length;t+=1)P[t].c();n=p(),s=f("div"),o=f("div"),i=f("span"),l=h(E),b=f("span"),v=h(T),x=f("span"),x.textContent="$",y=p(),w=f("input"),m(i,"class","chameleon-m svelte-1a6luut"),m(b,"class","blue-m svelte-1a6luut"),m(x,"class","plum-l svelte-1a6luut"),m(o,"class","prefix"),m(w,"id","input"),m(w,"class","svelte-1a6luut"),m(s,"class","flex svelte-1a6luut"),m(e,"class","svelte-1a6luut")},m(r,a){u(r,e,a);for(let t=0;t<P.length;t+=1)P[t].m(e,null);c(e,n),c(e,s),c(s,o),c(o,i),c(i,l),c(o,b),c(b,v),c(o,x),c(s,y),c(s,w),t[7](w),$(w,t[2]),k=!0,L||(_=[d(w,"input",t[8]),d(w,"keydown",t[4]),d(e,"load",t[5]())],L=!0)},p(t,[s]){if(2&s){let o;for(O=t[1],o=0;o<O.length;o+=1){const r=V(t,O,o);P[o]?(P[o].p(r,s),C(P[o],1)):(P[o]=B(r),P[o].c(),C(P[o],1),P[o].m(e,n))}for(H(),o=O.length;o<P.length;o+=1)M(o);U()}(!k||1&s)&&E!==(E=t[0].username+"")&&g(l,E),(!k||1&s)&&T!==(T=t[0].path+"")&&g(v,T),4&s&&w.value!==t[2]&&$(w,t[2])},i(t){if(!k){for(let t=0;t<O.length;t+=1)C(P[t]);k=!0}},o(t){P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)N(P[t]);k=!1},d(n){n&&a(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(P,n),t[7](null),L=!1,r(_)}}}function K(t,e,n){let{system:s=null}=e,{commands:o={}}=e,r=0,i=[],l=[],c="",u=null;function a(t){n(1,l=""===t?[]:[...l,t])}return document.body.addEventListener("click",(t=>{t.target===document.body&&document.querySelector("#input").focus()})),t.$$set=t=>{"system"in t&&n(0,s=t.system),"commands"in t&&n(6,o=t.commands)},[s,l,c,u,function(t){switch(t.key){case"Enter":a({username:s.username,path:s.path,text:c}),function(t){if(!t)return;i.push(t),r=i.length;const e=t.split(" "),l=e[0],c=e.slice(1),u=o[l];void 0!==u?u.execute(a,s,c):a(`command not found: ${l}`);n(0,s)}(c),n(2,c="");break;case"Tab":if(t.preventDefault(),c){const t=c.split(" ");t[t.length-1]}break;case"ArrowUp":case"ArrowDown":"ArrowUp"===t.key?(r==i.length&&i.push(c),r--):r++,r<0&&(r=0),r>=i.length&&(r=i.length-1),console.log(i),n(2,c=i[r]),setTimeout((()=>{u.focus(),n(3,u.selectionStart=c.length,u)}),1)}if("Enter"===t.key);else if("Tab"===t.key&&(t.preventDefault(),c)){const t=c.split(" ");t[t.length-1]}},function(){a("WELCOME TO Onimen's PORTFOLIO"),a('Type "help" to list all command'),a("(C) 2021 Onimen ALL RIGHT RESERVED.")},o,function(t){y[t?"unshift":"push"]((()=>{u=t,n(3,u)}))},function(){c=this.value,n(2,c)}]}const Q={};function Y(t){Q[t.getLabel()]=t}Y(new class{getLabel(){return"ls"}getUsage(){return"ls [dir]"}execute(t,e,n){const s=0==n.length?e.path:e.resolvePath(n[0]);if("/"!==s&&!e.direcotries.find((t=>t===`${s}/`)))return!1;const o=e.allFiles.filter((t=>t.startsWith(s))).filter((t=>e.allFiles.includes(t))).map((t=>t.slice(s.length))).filter((t=>1===t.split("/").filter((t=>t)).length));return!!o.length&&(t(o.join(", ")),!0)}}),Y(new class{getLabel(){return"cd"}getUsage(){return"cd [dir]"}execute(t,e,n){const s=0==n.length?e.path:e.resolvePath(n[0]);return"/"===s||e.direcotries.find((t=>t===`${s}/`))?e.path=s:t("No such file or directory"),!1}}),Y(new class{getLabel(){return"cat"}getUsage(){return"cat [file]"}execute(t,e,n){const s=0==n.length?e.path:e.resolvePath(n[0]),o=e.files[s];if(o){if(s.endsWith(".link"))return void t("use: open [file]");o.split("\n").forEach((e=>{t(e)}))}else t("No such file or directory");return!1}}),Y(new class{getLabel(){return"open"}getUsage(){return"open [file]"}execute(t,e,n){const s=0==n.length?e.path:e.resolvePath(n[0]),o=e.files[s];if(o){if(s.endsWith(".txt"))return void t("use: cat [file]");window.open(o)}else t("No such file or directory");return!1}}),Y(new class{getLabel(){return"help"}getUsage(){return"help"}execute(t){for(const e of Object.values(Q))t(e.getUsage())}}),Y(new class{getLabel(){return"clear"}getUsage(){return"clear"}execute(t,e,n){return t(""),!0}});const Z=new class extends J{constructor(t){super(),R(this,t,K,X,l,{system:0,commands:6})}}({target:document.body,props:{system:new class{username="guest@ONIX-PC";path="/";commands={};direcotries=["/"];files={};constructor(){this.initializeFileTree()}get allFiles(){return this.direcotries.concat(Object.keys(this.files))}resolvePath(t){/^(\/|\.{1,2}\/).*$/.test(t)||(t=`./${t}`);const e=t.split("/"),n="/"===this.path?[""]:this.path.split("/");if(e.length)if("."===e[0])e.splice(0,1,...n);else if(".."===e[0]){for(;e.length&&".."===e[0];)e.shift(),n.pop();e.unshift(...n)}return t=e.join("/")}initializeFileTree(){this.direcotries.push("/about/"),this.direcotries.push("/products/"),this.direcotries.push("/links/"),this.files["/about/about.txt"]="onimen(山本遼太郎)といいます。2002年11月26日生まれです。\n\t\t主にJavaとJavascriptで開発をしています。\n\t\t他にも、Python, Go言語などもに時々使います。\n\t\tJavaではEclipse、JavascriptではVSCodeを利用しています。\n\t\tこのポートフォリオはsvelteというフレームワークを使用していますが、\n\t\tVue.jsでSPAを作ったりもします。\n\t\tこれまでに製作した作品は /products からご覧ください。",this.files["/products/TheLowHP.txt"]="TheLowはマインクラフトのサーバー上で遊べるRPGです。\n\t\tこちらの公式サイトを制作しました。他のスタッフと話し合いながらロゴも制作しました。",this.files["/products/HMage-Mod.txt"]="マインクラフトの海外サーバー(us.shotbow.net)で\n\t\tより楽しく遊ぶためのマインクラフトMODです。自分ともう一人の開発者で共同開発しました。",this.files["/products/TheLowHP.link"]="https://portal.eximradar.jp/thelow",this.files["/products/HMage-Mod.link"]="https://hmage123456.github.io/hmgemod/",this.files["/links/github.link"]="https://github.com/Oni-Men"}},commands:Q}});return t.commands=Q,t.default=Z,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=bundle.js.map
